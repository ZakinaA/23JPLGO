{% extends 'base.html.twig' %}

{% block head %}
    {{ parent() }}
{% endblock %}

{% block header %}
    {{ parent() }}
{% endblock %}
{% block body %}
    <div class="page-content">
       <h1>LISTE DES ELEVES</h1>

<table border="1">
    <tr>
        <th>Nom</th>
        <th>Prénom</th>
        <th>Numéro de Rue</th>
        <th>Rue</th>
        <th>Code Postal</th>
        <th>Ville</th>
        <th>Téléphone</th>
        <th>Mail</th>
        <th>Actions</th>
    </tr>

    {% for eleve in pEleve %}
        <tr>
            <td><a href="{{ path('eleveConsulter', { 'id': eleve.id }) }}">{{ eleve.nom }}</a></td>
            <td>{{ eleve.prenom }}</td>
            <td>{{ eleve.numRue }}</td>
            <td>{{ eleve.rue }}</td>
            <td>{{ eleve.copos }}</td>
            <td>{{ eleve.ville }}</td>
            <td>{{ eleve.tel }}</td>
            <td>{{ eleve.mail }}</td>
            <td>
                <form action="{{ path('eleveModifier', {'id': eleve.id}) }}" method="post">
                    <input type="hidden" name="_method" value="UPDATE">
                    <button type="submit">Modifier</button>
                </form>

                <form action="{{ path('eleveSupprimer', {'id': eleve.id}) }}" method="post">
                    <input type="hidden" name="_method" value="DELETE">
                    <button type="submit">Supprimer</button>
                </form>
            </td>
        </tr>
    {% else %}
        <tr>
            <td colspan="9">Aucun élève n'a été trouvé.</td>
        </tr>
    {% endfor %}
</table>
    </div>
{% endblock %}